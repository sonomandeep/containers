---
import LogStream from "../components/features/log-stream.astro";
import MonitorCluster from "../components/features/monitor-cluster.astro";
import MultiHostSupport from "../components/features/multi-host-support.astro";
import RemoteTerminal from "../components/features/remote-terminal.astro";
import Divider from "../components/layout/divider.astro";
import CtaSection from "../components/sections/cta-section.astro";
import FaqSection from "../components/sections/faq-section.astro";
import Hero from "../components/sections/hero.astro";
import Card from "../components/ui/Card.astro";
import Layout from "../layouts/layout.astro";

type FeatureItem = {
  id: string;
  title: string;
  description: string;
  cardClass: string;
};

const featureItems: Array<FeatureItem> = [
  {
    id: "monitor-cluster",
    title: "Monitor your cluster",
    description:
      "Stream live Docker events and resource metrics across all connected hosts.",
    cardClass: "h-80 md:col-span-2",
  },
  {
    id: "multi-host-support",
    title: "Multi host support",
    description: "Deploy agent on your nodes to manage your VPS cluster.",
    cardClass: "h-80",
  },
  {
    id: "log-stream",
    title: "Log stream",
    description: "Follow your containers log stream from Paper interface.",
    cardClass: "h-80",
  },
  {
    id: "remote-terminal",
    title: "Remote terminal",
    description:
      "Open a shell inside running containers directly from the interface.",
    cardClass: "h-80 md:col-span-2",
  },
];
---

<Layout
  description="Deploy containers on your VPS in minutes, monitor them live and execute commands."
  title="Paper - Ship like a PaaS, stay self-hosted."
>
  <Hero/>

  <Divider/>

  <section class="w-full bg-white" id="features">
    <div
      class="mx-auto w-full max-w-5xl px-4 pb-28 pt-48 sm:px-6 sm:pb-32 sm:pt-56 lg:px-0 lg:pb-40 lg:pt-72"
    >
      <div class="flex flex-col items-center gap-16">
        <div class="flex flex-col items-center gap-3 text-center">
          <span
            class="inline-flex items-center justify-center rounded-full border border-neutral-200 bg-neutral-100 px-2 py-1 text-xs text-neutral-500"
          >
            Features
          </span>

          <h2
            class="max-w-[41.25rem] font-display text-3xl font-semibold leading-[1.1] tracking-tight text-neutral-900 sm:text-4xl"
          >
            Everything you need to deploy, run
            <br>
            and manage your containerized services
          </h2>
        </div>

        <div
          class="grid w-full grid-cols-1 gap-6 md:grid-cols-2 lg:grid-cols-3"
        >
          {
            featureItems.map((item) => {
              if (item.id === "monitor-cluster") {
                return <MonitorCluster class={item.cardClass} />;
              }

              if (item.id === "log-stream") {
                return <LogStream class={item.cardClass} />;
              }

              if (item.id === "multi-host-support") {
                return <MultiHostSupport class={item.cardClass} />;
              }

              if (item.id === "remote-terminal") {
                return <RemoteTerminal class={item.cardClass} />;
              }

              return (
                <Card as="article" class={item.cardClass}>
                  <h3
                    class="font-display text-base font-medium tracking-[-0.01em] text-neutral-800"
                  >
                    {item.title}
                  </h3>
                  <p class="mt-1 text-balance text-sm text-neutral-500">
                    {item.description}
                  </p>
                </Card>
              );
            })
          }
        </div>
      </div>
    </div>
  </section>

  <FaqSection/>

  <CtaSection/>
</Layout>
