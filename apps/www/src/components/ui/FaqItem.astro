---
type Props = {
  question: string;
  answer: string;
};

const { question, answer } = Astro.props as Props;
---

<details class="rounded-xl bg-neutral-100 px-4 py-3 sm:px-5 sm:py-3.5">
  <summary class="flex cursor-pointer list-none items-center justify-between gap-4">
    <span class="text-base font-normal leading-6 text-neutral-800">
      {question}
    </span>
    <span
      aria-hidden="true"
      class="faq-chevron inline-flex size-4 shrink-0 items-center justify-center text-neutral-500"
    >
      <svg class="size-4" fill="none" viewBox="0 0 12 12">
        <path
          d="M3 4.5L6 7.5L9 4.5"
          stroke="currentColor"
          stroke-linecap="round"
          stroke-linejoin="round"
        ></path>
      </svg>
    </span>
  </summary>

  <div class="faq-answer-grid">
    <div class="faq-answer-inner">
      <p class="pr-8 text-sm leading-6 text-neutral-600">{answer}</p>
    </div>
  </div>
</details>

<style>
  summary::-webkit-details-marker {
    display: none;
  }

  summary::marker {
    content: "";
  }

  details[open] .faq-chevron {
    transform: rotate(180deg);
  }

  .faq-chevron {
    transition: transform 200ms cubic-bezier(0.22, 1, 0.36, 1);
  }

  .faq-answer-grid {
    display: grid;
    grid-template-rows: 0fr;
    opacity: 0;
    padding-top: 0;
    transition:
      grid-template-rows 200ms cubic-bezier(0.22, 1, 0.36, 1),
      opacity 180ms ease,
      padding-top 200ms cubic-bezier(0.22, 1, 0.36, 1);
  }

  .faq-answer-inner {
    overflow: hidden;
  }

  details[open] .faq-answer-grid {
    grid-template-rows: 1fr;
    opacity: 1;
    padding-top: 0.75rem;
  }

  @media (prefers-reduced-motion: reduce) {
    .faq-chevron,
    .faq-answer-grid {
      transition: none;
    }
  }
</style>
