---
import Card from "../ui/Card.astro";

type TerminalLine = {
  text: string;
  tone?: "default" | "success";
};

type Props = {
  class?: string;
};

const { class: className = "" } = Astro.props as Props;

const terminalLines: Array<TerminalLine> = [
  {
    text: "root@api-gateway:/app# ps aux",
  },
  {
    text: "root@api-gateway:/app# curl localhost:8080/health",
  },
  {
    text: '{"status":"ok"}',
    tone: "success",
  },
  {
    text: "",
  },
  {
    text: "root@api-gateway:/app# tail -f /var/log/nginx/access.log",
  },
  {
    text: '172.18.0.1 - - [17/Feb/2026:10:41:23 +0000] "GET /health HTTP/1.1" 200 32',
  },
];
---

<Card as="article" class={className}>
  <div class="flex h-full flex-col gap-6">
    <div
      aria-hidden="true"
      class="relative min-h-0 flex-1 overflow-hidden rounded-bl-xl rounded-tl-xl rounded-tr-xl"
    >
      <div
        class="absolute inset-0 overflow-hidden rounded-bl-xl rounded-tl-xl rounded-tr-xl bg-neutral-200"
      >
        <div
          class="absolute left-[0.01%] top-[0.19%] h-[169.44%] w-[203.47%] bg-neutral-200 px-6 pt-4"
        >
          <div class="flex items-center gap-2.5">
            <span class="size-3 rounded-full bg-red-500"></span>
            <span class="size-3 rounded-full bg-amber-500"></span>
            <span class="size-3 rounded-full bg-green-500"></span>
          </div>

          <div
            class="mt-3 space-y-1 whitespace-nowrap font-mono text-[2rem] leading-[1.35] text-neutral-800"
          >
            {
              terminalLines.map((line) => {
                if (line.text.length === 0) {
                  return <p class="h-[1.35em]"></p>;
                }

                return (
                  <p class={line.tone === "success" ? "text-green-500" : ""}>
                    {line.text}
                  </p>
                );
              })
            }
          </div>
        </div>
      </div>

      <div
        class="pointer-events-none absolute inset-0 bg-[linear-gradient(166.487deg,rgba(250,250,250,0)_75.887%,#fafafa_96.147%)]"
      />
    </div>

    <div>
      <h3
        class="font-display text-base font-medium tracking-[-0.01em] text-neutral-800"
      >
        Remote terminal
      </h3>
      <p class="mt-1 max-w-[15.125rem] text-balance text-sm text-neutral-500">
        Open a shell inside running containers directly from the interface.
      </p>
    </div>
  </div>
</Card>
